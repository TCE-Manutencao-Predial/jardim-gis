<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Erro Interno do Servidor (500) - JardimGIS</title>
    <!-- CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/core/base.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/core/styles.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/core/erros.css') }}">
    
    <!-- Responsividade -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/core/mobile.css') }}">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
</head>
<body>
    <!-- Header -->
    <header class="global-header">
        <div class="container">
            <div class="logo-small">
                <a href="{{ url_for('web.index') }}" class="logo-link">
                    ğŸŒ³ JardimGIS - TCE-GO
                </a>
            </div>
            <nav class="global-nav">
                <a href="{{ url_for('web.index') }}" class="nav-link">ğŸ  InÃ­cio</a>
                <a href="{{ url_for('web.index') }}" class="nav-link">ğŸŒ³ Ãrvores</a>
            </nav>
        </div>
    </header>

    <main>
        <div class="container">
            <div class="acesso-negado-container">
                <div class="acesso-negado-content">
                    <h1 class="acesso-negado-titulo">Erro Interno do Servidor (500)</h1>
                    <div class="acesso-negado-mensagem">
                        <p><strong>âŒ Ocorreu um problema inesperado</strong></p>
                        <p>O servidor encontrou uma condiÃ§Ã£o inesperada que o impediu de completar a solicitaÃ§Ã£o.</p>
                        <p>Tente novamente mais tarde ou contate o administrador do sistema.</p>
                    </div>
                    <div class="acesso-negado-info">
                        <p><strong>ğŸ‘¤ UsuÃ¡rio:</strong> {{ usuario_atual or 'NÃ£o identificado' }}</p>
                        <p><strong>ğŸ”’ Status:</strong> Erro Interno (500)</p>
                        <p><strong>ğŸ•’ Data/Hora:</strong> <span id="datetime"></span></p>
                    </div>
                    <div class="acesso-negado-acoes">
                        <button class="btn-primary" onclick="location.href='{{ url_for('web.index') }}'">
                            ğŸ  Retornar ao InÃ­cio
                        </button>
                        <button class="btn-secondary" onclick="history.back()">
                            â† PÃ¡gina Anterior
                        </button>
                    </div>
                    <div class="acesso-negado-contato">
                        <p><strong>ğŸ†˜ Precisa de Ajuda?</strong></p>
                        <p>Entre em contato com o ServiÃ§o de Infraestrutura Predial:</p>
                        <p> <strong>Telefone:</strong> (62) 3228-2508</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <p>Desenvolvido por Eng. Pedro Henrique - Serv. Infraestrutura Predial &copy; 2025</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script>
        function atualizarDataHora() {
            const agora = new Date();
            const dataFormatada = agora.toLocaleDateString('pt-BR', { day: '2-digit', month: '2-digit', year: 'numeric' });
            const horaFormatada = agora.toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit', second: '2-digit' });
            document.getElementById('datetime').textContent = `${dataFormatada} Ã s ${horaFormatada}`;
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            atualizarDataHora();
            setInterval(atualizarDataHora, 1000);
        });
        
        console.warn('ğŸš« Erro Interno do Servidor (500)', {
            usuario: '{{ usuario_atual or "NÃ£o identificado" }}',
            timestamp: new Date().toISOString(),
            userAgent: navigator.userAgent,
            url: window.location.href
        });

        window.addEventListener('load', function() {
            document.body.classList.add('loaded');
        });
    </script>
</body>
</html>